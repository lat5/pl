(function () {
    'use strict';

    // Функция для установки плагина
    function installPlugin(pluginURL) {
        var pluginsArray = Lampa.Storage.get('plugins') || [];
        var pluginName = 'OriginTitle';
        var pluginDescription = 'Оригинальное название фильма';

        // Проверяем, установлен ли плагин уже
        var isInstalled = pluginsArray.some(function (plugin) {
            return plugin.url === pluginURL;
        });

        if (!isInstalled) {
            console.log('install', 'Устанавливаем плагин:', pluginName);
            pluginsArray.push({
                author: 'lat5',
                url: pluginURL,
                name: pluginName,
                status: 1,
                description: pluginDescription,
                version: '1.0.0'
            });
            Lampa.Storage.set('plugins', pluginsArray);
            console.log('install', 'Плагин установлен:', pluginName);
        } else {
            console.log('install', 'Плагин уже установлен:', pluginName);
        }
    }

    // Устанавливаем плагин
    var pluginURL = 'https://lat5.github.io/pl/Base/OriginTitle';
    installPlugin(pluginURL);
})();
